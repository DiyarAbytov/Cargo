/* src/Pages/Home/Home.scss */
:root{
  --primary:#C1116A; --primary-600:#A30E5B;
  --accent:#E8892D;
  --success:#16a34a; --success-600:#15803d;
  --text:#111317; --muted:#6b7280;
  --border:#e5e7eb; --surface:#fff; --bg:#f5f6f8;
}

/* только блок home */
.home, .home * { box-sizing: border-box; }

.home{
  min-height:100dvh;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
  font-size:16px;
  line-height:1.35;
  padding:0 0 96px 0;
  overflow-x:clip;
  -webkit-text-size-adjust:100%;

  input, textarea, select, button { font-size:16px; }
  @supports (-webkit-touch-callout: none) { input, textarea, select, button { font-size:16px; } }

  /* карточка */
  &__card{ width:100%; max-width:460px; padding:16px; margin:0 auto; display:grid; gap:12px; }

  /* шапка */
  &__head{ display:grid; grid-template-columns:1fr auto; align-items:center; gap:12px; > *{min-width:0;} }
  &__brand{ height:55px; object-fit:contain; display:block; max-width:100%; }
  @media (max-width:360px){ &__brand{ height:38px; } }

  /* клиентский код */
  &__sub{ font-size:12px; color:#9aa3ad; margin-bottom:6px; }
  &__chip{
    display:flex; align-items:center; gap:8px;
    padding:8px 10px 8px 12px; min-height:44px;
    background:var(--surface); border:1px solid var(--border);
    border-radius:12px; box-shadow:0 1px 2px rgba(0,0,0,.05);
  }
  &__chip-lines{ display:flex; flex-direction:column; line-height:1.2; min-width:0; flex:1 1 auto; }
  &__chip-top, &__chip-btm{ font-weight:700; font-size:16px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; letter-spacing:.2px; }
  &__chip-btm{ margin-top:2px; }

  &__chip-btn{
    width:26px; height:26px; flex:0 0 26px; display:grid; place-items:center;
    border:1px solid var(--border); border-radius:8px; background:#fff; color:#6b7280; cursor:pointer;
    transition: .2s ease;
  }
  &__chip-btn:hover{ background:#f9fafb; color:#111317; }
  &__chip-btn.is-copied{
    background:var(--success); border-color:var(--success); color:#fff;
    box-shadow:0 0 0 3px rgba(22,163,74,.18);
  }

  /* подписи */
  &__label{ font-weight:700; }

  /* поиск */
  &__track{}
  &__track-wrap{ position:relative; }
  &__input{
    width:100%; height:44px; padding:0 44px 0 12px;
    border:1px solid #e7c0d2; border-radius:10px; background:var(--surface); outline:none;
  }
  &__input::placeholder{ color:#9ca3af; }
  &__input:focus{ border-color:var(--primary); box-shadow:0 0 0 3px rgba(193,17,106,.12); }
  &__input.is-invalid{ border-color:#dc2626!important; box-shadow:0 0 0 3px rgba(220,38,38,.12); }

  &__search-ico{
    position:absolute; inset-inline-end:6px; top:50%; transform:translateY(-50%);
    width:32px; height:32px; display:grid; place-items:center; border:0; background:transparent; color:#6b7280; cursor:pointer;
  }
  &__search-ico:hover{ color:#111317; }

  /* подсказки */
  &__menu{
    position:absolute; left:0; right:0; top:calc(100% + 6px); z-index:20;
    background:var(--surface); border:1px solid var(--border); border-radius:12px;
    box-shadow:0 12px 24px rgba(0,0,0,.12); contain:layout paint;
  }
  &__list{ max-height:220px; overflow:auto; }
  &__option{ padding:10px 12px; cursor:pointer; }
  &__option:hover{ background:#fafafa; }
  &__empty{ padding:12px; color:var(--muted); }

  /* хинты/ошибки */
  &__hint{ color:var(--muted); font-size:12px; margin-top:6px; }
  &__error{ color:#dc2626; font-size:12px; margin-top:4px; }

  /* основная кнопка копирования */
  &__copy{
    width:100%; height:46px; border:0; border-radius:12px;
    background:var(--primary); color:#fff; font-weight:700; cursor:pointer; letter-spacing:.2px;
    transition:.2s ease; box-shadow:0 2px 10px rgba(0,0,0,.06);
  }
  &__copy:active{ background:var(--primary-600); }
  &__copy.is-copied{
    background:var(--success); box-shadow:0 0 0 3px rgba(22,163,74,.18);
    transform:translateY(-1px);
  }

  &__loading{ color:var(--muted); text-align:center; }

  /* карточка адреса */
  &__addr-card{ background:#fff; border:1px solid var(--border); border-radius:12px; overflow:hidden; }
  &__addr-row{
    display:grid; grid-template-columns: 1fr 1.4fr; gap:10px;
    padding:12px 14px; border-top:1px solid var(--border); align-items:start; > *{ min-width:0; }
  }
  &__addr-row:first-child{ border-top:0; }
  &__addr-key{ font-weight:600; }
  &__addr-val{ position:relative; color:#6b7280; padding-right:44px; min-width:0; }
  &__addr-text{
    white-space:pre-wrap; word-break:break-word; overflow-wrap:anywhere; line-height:1.35;
    display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:5; overflow:hidden;
  }
  &__addr-eye{
    position:absolute; top:6px; right:8px; z-index:2;
    width:26px; height:26px; display:grid; place-items:center;
    border:1px solid var(--border); border-radius:8px; background:#fff;
    box-shadow:0 1px 2px rgba(0,0,0,.06); color:#6b7280; cursor:pointer;
  }
  &__addr-eye:hover{ color:#111317; }

  /* модалка */
  &__modal{ position:fixed; inset:0; background:rgba(0,0,0,.45); z-index:1000; display:grid; place-items:center; padding:16px; overflow:hidden; }
  &__modal-card{ width:min(560px, calc(100% - 32px)); background:#fff; border-radius:14px; box-shadow:0 20px 40px rgba(0,0,0,.25); display:grid; grid-template-rows:auto 1fr auto; max-height:calc(100dvh - 32px); }
  &__modal-head{ display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid var(--border); }
  &__modal-title{ font-weight:800; }
  &__close{ width:32px; height:32px; display:grid; place-items:center; border:1px solid var(--border); border-radius:8px; background:#fff; color:#6b7280; cursor:pointer; }
  &__close:hover{ color:#111317; }
  &__modal-body{ padding:12px 14px; display:grid; gap:10px; overflow:auto; }
  &__pair{ display:grid; gap:4px; }
  &__pair-key{ font-weight:700; }
  &__pair-val{ color:#374151; white-space:pre-wrap; word-break:break-word; line-height:1.45; }
  &__modal-actions{ padding:12px 14px; border-top:1px solid var(--border); }

  &__visually-hidden{ position:absolute!important; width:1px; height:1px; margin:-1px; padding:0; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; }

  /* ===== Таймлайн ===== */
  .timeline{ --rail: 28px; --line: 2px; --dot: 12px; position:relative; }
  .timeline::before{
    content:""; position:absolute;
    left: calc(var(--rail) / 2 - var(--line) / 2);
    top:8px; bottom:8px; width: var(--line);
    border-left: var(--line) dashed rgba(232,137,45,.55);
  }
  .timeline__item{ display:grid; grid-template-columns: var(--rail) 1fr; column-gap:12px; align-items:start; padding:10px 0; position:relative; }
  .timeline__dot{
    grid-column:1; justify-self:center; align-self:start;
    width:var(--dot); height:var(--dot); border-radius:50%;
    background:var(--surface); border:3px solid var(--accent); box-sizing:content-box; z-index:1;
  }
  .timeline__dot.is-current{ background:var(--accent); border-color:var(--accent); }
  .timeline__content{ grid-column:2; min-width:0; }
  .timeline__title{ font-weight:600; line-height:1.35; }
  .timeline__meta{ font-size:12px; color:#9ca3af; margin-top:4px; display:flex; flex-wrap:wrap; gap:8px; }
  .timeline__loc{ color:#9ca3af; }
  .timeline__time{ color:#9ca3af; }

  /* ===== Тост ===== */
  &__toast{
    position:fixed; left:50%; bottom:20px; transform:translateX(-50%) translateY(16px);
    background:#111317; color:#fff; border-radius:999px; padding:10px 14px; font-size:13px; line-height:1;
    opacity:0; pointer-events:none; transition:.25s ease; box-shadow:0 8px 22px rgba(0,0,0,.25); z-index:2000;
  }
  &__toast.is-show{ transform:translateX(-50%) translateY(0); opacity:1; }

  @media (max-width:360px){
    &__brand{ height:36px; }
    &__addr-row{ grid-template-columns: 1fr 1fr; }
    &__addr-eye{ top:4px; right:6px; }
  }
}
